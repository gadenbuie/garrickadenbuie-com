---
title: Make A Shortcut for Anything in RStudio with shtrcts
author: Garrick Aden-Buie
date: '2020-05-02'
slug: shrtcts
categories:
  - Blog
tags:
  - RStudio
  - R
  - R Package
  - Addin
  - Shortcuts
description: post description
twitterImage: /path/to/image.png
rmd_source: ''
keywords: rstats
editor_options:
  chunk_output_type: console
---

<!-- Links -->

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  echo = TRUE, warning = FALSE, message = FALSE, eval=FALSE,
  fig.width = 9, fig.height = 10
)
options(htmltools.dir.version = TRUE)
```

[shrtcts]: https://github.com/gadenbuie/shrtcts
[rstudio-keyboard-shortcuts]: https://support.rstudio.com/hc/en-us/articles/200711853-Keyboard-Shortcuts
[rstudio-customize-shortcuts]: https://support.rstudio.com/hc/en-us/articles/206382178-Customizing-Keyboard-Shortcuts
[rstudio-addins]: https://rstudio.github.io/rstudioaddins/
[addinslist]: https://github.com/daattali/addinslist

<!-- https://buttons.github.io/ -->
<a class="github-button" href="https://github.com/gadenbuie" data-show-count="true" aria-label="Follow @gadenbuie on GitHub">Follow @gadenbuie</a>&nbsp;
<a class="github-button" href="https://github.com/gadenbuie/shrtcts" data-icon="octicon-star" data-show-count="true" aria-label="Star gadenbuie/shrtcts on GitHub">Star</a>&nbsp;
<a class="github-button" href="https://github.com/gadenbuie/shrtcts/fork" data-icon="octicon-repo-forked" data-show-count="true" aria-label="Fork gadenbuie/shrtcts on GitHub">Fork</a>

RStudio's many [keyboard shortcuts][rstudio-keyboard-shortcuts]
take some time to learn but can save tons of typing in the long run.
[RStudio addins][rstudio-addins]
extend RStudio's interface with small apps and actions,
and you can 
[customize your keyboard shortcuts][rstudio-customize-shortcuts]
to assign a keyboard shortcut to any addin you have installed.

Installing an addin isn't hard ---
and if you're looking for new addins,
Dean Attali's [addinslist] is the place to go.
But addins are installed via R packages,
so if you want to create your own addin, 
you'll have to create a new R package to store your addin.
And if you have to create a new R package,
you'll need to think of a name for your R package.
But naming is hard,
and all the good words starting with or involving 
the letter R 
are already taken.

What if all you want to do is run
a function from an installed package
or a short bit of R code that does something useful
and that makes your workflow just a little smoother?

What if you want that function to run 
whenever you press 
<kbd>Control</kbd> + <kbd>Alt</kbd> + <kbd>Shift</kbd> + <kbd>K</kbd>?

It seems like there should be an easier way to do this
than to create an R package.

(_Have I convinced you that you also have the same problem I do,
or am I the only one?_)

## Introducing shrtcts

[[shrtcts]]{.pkg} is a small package I've put together
with the goal of making it easier
to register and manage RStudio addins
without having to maintain an R package.

### Getting started

First, **install shrtcts**.

```{r how-to-install, eval=FALSE}
remotes::install_github("gadenbuie/shrtcts")
```

Then, **create a YAML file** called `.shrtcts.yaml`
and store it in your home directory[^home]
or in a directory called `.config` in your home directory.

[^home]: You can find you home directory quickly using `fs::path_home_r()` or `fs::path_home()`. [shrtcts]{.pkg} will look in either location.

This YAML file holds your shortcuts as a YAML list.
Each item looks a lot like the
[addins.dcf](https://rstudio.github.io/rstudioaddins/#registering-addins)
file that is used to register addins in R packages.
The only difference is that the `Binding` entry
can be any arbitrary R function or code.

```yaml
- Name: Say Something Nice
  Description: A demo of cool things
  Binding: praise::praise
  Interactive: true
```

I'm calling this shortcut
_Say Something Nice_
and whenever it is triggered it calls
`praise()` from the
[[praise](https://github.com/rladies/praise)]{.pkg} package.

To **install your shortcut**,
you need to run `add_rstudio_addin()` 
and restart your R session.

```{r eval=FALSE}
shrtcts::add_rstudio_shortcuts()
```

You can **restart your R session** by clicking ---
_Session_ > _Restart R_ ---
or typing ---
`rstudioapi::restartSession()`.
Now you should now be able to find 
the **Say Something Nice** addin in your addins list!

<img alt="Our first RStudio shortcut!" 
     src="shrtcts-addin-nice.png"
     style="max-width: 400px; margin-left: auto; margin-right: auto;" />

### Shortcut, meet keyboard

- How to assign custom keyboard shortuts to the shortcut addins

- How to set the shortcut `id` because reordering

- Reinstalling `shrtcts` removes current shortcuts

### Adding more shortcuts

To add more shortcuts,
continue adding entries in your `.shrtcts.yaml` file.
If you don't want to run `add_rstudio_shortcuts()`
every time you update your shortcuts,
you can add the following line in your `~/.Rprofile`[^rprofile].

[^rprofile]: A quick way to edit this file is by calling `usethis::edit_r_profile()`.

```{r eval=FALSE}
if (interactive() & requireNamespace("shrtcts", quietly = TRUE)) {
  shrtcts::add_rstudio_shortcuts()
}
```

### Shortcuts can be arbitrary R code

Your shortcut doesn't need to call a function in a packge.
In fact, 
you can create shortcuts that run R code
simply by putting the code you want to run in the `Binding` entry.

Here's an example shortcut that picks a number between 0 and 100.
(Great for playing _what number of am I think of?_)

```yaml
- Name: I'm thinking of a number...
  Binding: sample(0:100, 1)
```

Notice the binding is just R code
(I was thinking of `r sample(0:100, 1)`, by the way),
and the only fields you _need_ to include
are the `Name` and the `Binding`.

Your shorcuts don't need to fit on a single line either.
You can use 
[multi-line literal-style YAML blocks](https://yaml-multiline.info/)
for your R code.
In other words, add `|` after `Binding` and then indent your R code.

Here's an example shortcut that I use occasionally
to create a temporary markdown file
so that I can test some markdown or R code
and have the file be thrown away when I exit my R session.

```yaml
- Name: New Temporary R Markdown Document
  Binding: |
    tmp <- tempfile(fileext = ".Rmd")
    rmarkdown::draft(
      tmp,
      template = "github_document",
      package = "rmarkdown",
      edit = FALSE
    )
    rstudioapi::navigateToFile(tmp)
  Interactive: false
```

### Share your shortcuts

Because [shrtcts]{.pkg} 
stores your shortcuts in stand-alone(-ish) YAML files,
you can share your shortcuts file with others (or yourself)
by posting it somewhere online, 
for example as a [Github Gist](https://gist.github.com).

[Here's a small collection of shortcuts](https://gist.github.com/gadenbuie/140204f122240f397e68e610643a4190)
that I use and that inspired me to create this package
so that I didn't have to think of another package name.

I hope [[shrtcts]]{.pkg} is helpful to you!
Find me on [&commat;grrrck](https://twitter.com/grrrck)
and let me know if it is.
